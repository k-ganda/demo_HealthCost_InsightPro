<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Contact Person Dashboard</title>
		<link rel="stylesheet" href="dashboard.css" />
	</head>
	<body>
		<header>
			<div class="logosec">
				<div class="logo">HealthCost InsightPro</div>
			</div>
			<div class="message">
				<div class="circle"></div>
				<img
					src="https://media.geeksforgeeks.org/wp-content/uploads/20221210183322/8.png"
					class="icn"
					alt="" />
			</div>
		</header>

		<div class="sidebar">
			<h2>Contact Person Dashboard</h2>
			<ul>
				<li>
					<svg
						xmlns="http://www.w3.org/2000/svg"
						width="24"
						height="24"
						viewBox="0 0 24 24"
						style="fill: white">
						<path
							d="m21.743 12.331-9-10c-.379-.422-1.107-.422-1.486 0l-9 10a.998.998 0 0 0-.17 1.076c.16.361.518.593.913.593h2v7a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-4h4v4a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-7h2a.998.998 0 0 0 .743-1.669z"></path>
					</svg>
					<a href="#">Home</a>
				</li>
				<li>
					<svg
						xmlns="http://www.w3.org/2000/svg"
						width="24"
						height="24"
						viewBox="0 0 24 24"
						style="fill: white">
						<path d="M2 7v1l11 4 9-4V7L11 4z"></path>
						<path
							d="M4 11v4.267c0 1.621 4.001 3.893 9 3.734 4-.126 6.586-1.972 7-3.467.024-.089.037-.178.037-.268V11L13 14l-5-1.667v3.213l-1-.364V12l-3-1z"></path>
					</svg>
					<a href="#" id="logout">Logout</a>
				</li>
			</ul>
		</div>

		<div class="content">
			<h1>Welcome to Your Dashboard, {{contactPerson.name}}</h1>
			<p>Your role: {{contactPerson.role}}</p>
			<p>Your email: {{contactPerson.email}}</p>
			<h2>Recommendations:</h2>
			<ul>
				{{#each recommendations}}
				<li>{{this}}</li>
				{{/each}}
			</ul>

			<h2>Reports:</h2>
			<ul>
				{{#each reports}}
				<li>{{this}}</li>
				{{/each}}
			</ul>
		</div>

		<script>
			const logoutBtn = document.getElementById('logout');
			// JavaScript for Logout Functionality
			logoutBtn.addEventListener('click', () => {
				localStorage.removeItem('auth-token');
				window.location.href = './form.html';
			});
		</script>
		<script>
			document.addEventListener('DOMContentLoaded', async () => {
				const table = document.getElementById('usersTable');
				await fetch('http://127.0.0.1:3000/api/user/').then(
					async (response) => {
						const result = await response.json();
					}
				);
			});
		</script>
	</body>
</html>
